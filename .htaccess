# Enable rewrite engine
RewriteEngine On
RewriteBase /alfalah/

# Remove .html extension from URLs
# If the request is for an existing .html file, rewrite to the clean URL
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*)$ $1.html [L]

# Redirect .html URLs to clean URLs (optional, for SEO)
RewriteCond %{THE_REQUEST} \s/alfalah/([^\s]+)\.html [NC]
RewriteRule ^ %1 [R=301,L]

# Prevent access to sensitive files
<Files "*.php">
    Order Allow,Deny
    Allow from all
</Files>

<Files "db_connect.php">
    Order Deny,Allow
    Deny from all
</Files>

# Security headers
Header always set X-Frame-Options "DENY"
Header always set X-Content-Type-Options "nosniff"
Header always set X-XSS-Protection "1; mode=block"
Header always set Referrer-Policy "strict-origin-when-cross-origin"

# Prevent access to log files
<Files "*.log">
    Order allow,deny
    Deny from all
</Files>

# Custom error pages (optional)
ErrorDocument 404 /alfalah/index.html
ErrorDocument 403 /alfalah/index.html